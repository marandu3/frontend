<div class="w-full min-h-screen flex flex-col items-center justify-start text-white px-6 relative pt-16">

  <!-- PROFILE IMAGE -->
  <div
    class="profile-image"
    [class.skeleton-loader]="!profile"
    (click)="openPhotoModal()"
  >
    <img *ngIf="profile?.profile_image_url" [src]="profile?.profile_image_url" fallbackImage="/profile.jpeg" referrerpolicy="no-referrer" />
  </div>

  <!-- TITLES -->
  <div class="text-center">
    <h1 class="profile-title" [class.text-gray-600]="!profile">
      {{ profile?.name || 'Loading Name...' }}
    </h1>

    <h1 class="profile-subtitle" [class.text-gray-600]="!profile">
      {{ profile?.title || 'Loading Title...' }}
    </h1>
  </div>

  <!-- DESCRIPTION -->
  <section class="profile-description-container">
    <div *ngIf="profile" class="profile-description-content">
      <p class="profile-description-text">{{ profile.description }}</p>
      <div class="description-accent"></div>
    </div>
    <div *ngIf="!profile" class="profile-description-skeleton">
      <div class="skeleton-line"></div>
      <div class="skeleton-line"></div>
      <div class="skeleton-line w-3/4"></div>
    </div>
  </section>

  <!-- SOCIAL ICONS -->
  <section class="social-icons">
    <ng-container *ngIf="socialMedia?.length; else skeletonSocial">
      <ng-container *ngFor="let social of socialMedia">
        <a [href]="social.url" target="_blank" class="social-icon-link">
          <img [src]="social.iconUrl" fallbackImage="/github.png" referrerpolicy="no-referrer" />
        </a>
      </ng-container>
    </ng-container>

    <ng-template #skeletonSocial>
      <div class="w-12 h-12 rounded-full bg-gray-700 animate-pulse"></div>
    </ng-template>
  </section>

</div>

<!-- MODAL -->
<div *ngIf="photoModalVisible && profile?.profile_image_url" class="photo-modal fixed inset-0 bg-black/50 backdrop-blur-md flex flex-col items-center justify-center z-50">
  <div class="photo-modal-content relative w-80 h-80 rounded-full overflow-hidden shadow-2xl border-4 border-blue-400 bg-white/10 backdrop-blur-lg">
    <img [src]="profile?.profile_image_url" alt="Profile photo" class="w-full h-full object-cover" fallbackImage="/profile.jpeg" referrerpolicy="no-referrer" />
    <button class="photo-modal-close-btn absolute top-2 right-2" (click)="closePhotoModal()">âœ•</button>
  </div>
  <button class="photo-modal-cancel-btn" (click)="closePhotoModal()">Cancel</button>
</div>
